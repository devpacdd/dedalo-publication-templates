export const data_manager=function(){};data_manager.prototype.request=async function(e){const r=e.url||page_globals.JSON_TRIGGER_URL,o=e.method||"POST",t=e.mode||"cors",a=e.cache||"no-cache",n=e.credentials||"same-origin",c=e.headers||{"Content-Type":"application/json"},s=e.redirect||"follow",l=e.referrer||"no-referrer",d=e.body;d.code||(d.code=page_globals.API_WEB_USER_CODE),d.lang||(d.lang=page_globals.WEB_CURRENT_LANG_CODE),!d.db_name&&page_globals.WEB_DB&&(d.db_name=page_globals.WEB_DB);return fetch(r,{method:o,mode:t,cache:a,credentials:n,headers:c,redirect:s,referrer:l,body:JSON.stringify(d)}).then((function(e){if(!e.ok)throw console.warn("-> handle_errors response:",e),Error(e.statusText);return e})).then(e=>e.json().then(e=>e)).catch(e=>(console.error("!!!!! [page data_manager.request] ERROR:",e),{result:!1,msg:e.message,error:e}))};export function download_url(e,r){fetch(e).then((function(e){return e.blob().then(e=>{var o=document.createElement("a");o.href=URL.createObjectURL(e),o.setAttribute("download",r),o.click(),o.remove()})}))}